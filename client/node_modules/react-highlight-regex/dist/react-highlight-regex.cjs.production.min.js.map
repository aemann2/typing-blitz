{"version":3,"file":"react-highlight-regex.cjs.production.min.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\n\nexport type Props = {\n  text: string;\n  match: RegExp;\n  highlightClassname?: string;\n};\n\nexport function Highlight({ text, match, highlightClassname }: Props) {\n  const $match = useMemo(() => {\n    if (match.flags.includes('g')) return match;\n    return new RegExp(match.source, 'g' + match.flags);\n  }, [match]);\n\n  const matchedPieces = Array.from(text.matchAll($match)).map(([text]) => text);\n  const preservedPieces = text.split($match);\n  const content = [];\n\n  let i = 0;\n  while (matchedPieces.length || preservedPieces.length) {\n    if (preservedPieces.length) {\n      content.push(<span key={i++}>{preservedPieces.shift()}</span>);\n    }\n    if (matchedPieces.length) {\n      content.push(\n        <mark className={highlightClassname} key={i++}>\n          {matchedPieces.shift()}\n        </mark>\n      );\n    }\n  }\n\n  return <>{content}</>;\n}\n"],"names":["text","match","highlightClassname","$match","useMemo","flags","includes","RegExp","source","matchedPieces","Array","from","matchAll","map","preservedPieces","split","content","i","length","push","React","key","shift","className"],"mappings":"0LAQ4BA,IAAAA,KAAMC,IAAAA,MAAOC,IAAAA,mBACjCC,EAASC,WAAQ,kBACjBH,EAAMI,MAAMC,SAAS,KAAaL,EAC/B,IAAIM,OAAON,EAAMO,OAAQ,IAAMP,EAAMI,SAC3C,CAACJ,IAEEQ,EAAgBC,MAAMC,KAAKX,EAAKY,SAAST,IAASU,KAAI,2BACtDC,EAAkBd,EAAKe,MAAMZ,GAC7Ba,EAAU,GAEZC,EAAI,EACDR,EAAcS,QAAUJ,EAAgBI,QACzCJ,EAAgBI,QAClBF,EAAQG,KAAKC,wBAAMC,IAAKJ,KAAMH,EAAgBQ,UAE5Cb,EAAcS,QAChBF,EAAQG,KACNC,wBAAMG,UAAWrB,EAAoBmB,IAAKJ,KACvCR,EAAca,iBAMhBF,gCAAGJ"}