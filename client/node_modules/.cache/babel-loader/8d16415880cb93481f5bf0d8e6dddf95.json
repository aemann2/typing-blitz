{"ast":null,"code":"var _jsxFileName = \"/Users/adammann/Desktop/Projects/Portfolio/typing-blitz/client/src/components/popup/Popup.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useRef, useEffect } from 'react';\nimport { WordsContext } from '../../context/WordsContext';\nimport { GameStateContext } from '../../context/GameStateContext';\nimport { ScoreContext } from '../../context/ScoreContext';\nimport axios from 'axios';\nimport classes from './css/Popup.module.scss';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Popup = () => {\n  _s();\n\n  const {\n    showPopup,\n    setShowPopup\n  } = useContext(GameStateContext);\n  const {\n    score,\n    setScore\n  } = useContext(ScoreContext);\n  const {\n    currentWord,\n    wordArray,\n    setCurrentWord\n  } = useContext(WordsContext);\n  const button = useRef(null);\n\n  async function testPost() {\n    try {\n      const res = await axios.post('/api/v1/scores', {\n        player: \"TST2\",\n        score: score\n      });\n      console.log(res);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const handleClose = () => {\n    setShowPopup(false);\n    const wordIndex = wordArray.indexOf(currentWord);\n    setCurrentWord(wordArray[wordIndex + 1]);\n    testPost();\n    setScore(0);\n  };\n\n  useEffect(() => {\n    if (button.current) {\n      button.current.focus();\n    }\n  }, [showPopup]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: showPopup,\n      onHide: handleClose,\n      backdrop: \"static\",\n      keyboard: false // setting animation to false to avoid findDOMNode error\n      ,\n      animation: false,\n      centered: true,\n      className: `${classes.modal} ${classes.fadeIn}`,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          className: classes.title,\n          children: \"Time Up!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: classes.body,\n        children: [\"Score: \", score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          ref: button,\n          onClick: handleClose,\n          children: \"Play Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Popup, \"v6pgoQO/WU3sGmV07s7NWmLhrhc=\");\n\n_c = Popup;\nexport default Popup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Popup\");","map":{"version":3,"sources":["/Users/adammann/Desktop/Projects/Portfolio/typing-blitz/client/src/components/popup/Popup.js"],"names":["useContext","useRef","useEffect","WordsContext","GameStateContext","ScoreContext","axios","classes","Modal","Button","Popup","showPopup","setShowPopup","score","setScore","currentWord","wordArray","setCurrentWord","button","testPost","res","post","player","console","log","error","handleClose","wordIndex","indexOf","current","focus","modal","fadeIn","title","body"],"mappings":"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","sourcesContent":["import { useContext, useRef, useEffect } from 'react';\nimport { WordsContext } from '../../context/WordsContext';\nimport { GameStateContext } from '../../context/GameStateContext';\nimport { ScoreContext } from '../../context/ScoreContext';\nimport axios from 'axios';\nimport classes from './css/Popup.module.scss';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\n\nconst Popup = () => {\n  const { showPopup, setShowPopup } = useContext(GameStateContext);\n  const { score, setScore } = useContext(ScoreContext);\n  const { currentWord, wordArray, setCurrentWord } = useContext(WordsContext);\n\n  const button = useRef(null);\n  \n  async function testPost() {\n    try {\n      const res = await axios.post('/api/v1/scores', { player: \"TST2\", score: score});\n\n      console.log(res);\n\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleClose = () => {\n    setShowPopup(false);\n    const wordIndex = wordArray.indexOf(currentWord);\n    setCurrentWord(wordArray[wordIndex + 1]);\n    testPost();\n    setScore(0);\n  };\n\n  useEffect(() => {\n    if (button.current) {\n      button.current.focus();\n    }\n  }, [showPopup]);\n\n  return (\n    <>\n      <Modal\n        show={showPopup}\n        onHide={handleClose}\n        backdrop='static'\n        keyboard={false}\n        // setting animation to false to avoid findDOMNode error\n        animation={false}\n        centered\n        className={`${classes.modal} ${classes.fadeIn}`}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className={classes.title}>Time Up!</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className={classes.body}>Score: {score}</Modal.Body>\n        <Modal.Footer>\n          <Button variant='primary' ref={button} onClick={handleClose}>\n            Play Again\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default Popup;\n"]},"metadata":{},"sourceType":"module"}